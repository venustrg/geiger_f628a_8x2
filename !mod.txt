mod ver 1.34 / 12-07-2020

отсчет времени в режиме дозы при работе от встроенного генератора давал ошибку
в районе 1 секунды в минуту. добавлена коррекция (TIME_CORR = -200..+4),
при значении -6 у меня дает ошибку в 1.5 секунды на 10 минут (1/400).
точнее при таймере 250Hz сделать вряд ли получится.

mod ver 1.33 / 14-06-2020

состояние звука сохраняется в EEPROM.;
добавлен PWM на подсветку (#define BRIGHTNESS 720), по умолчанию около 70% (720, диапазон 0..1023);


mod ver 1.3 / 06-05-2020

добавлен расчет дозы и времени, 
переключение режимов - длительным (более 1 сек.) удержанием кнопки.

mod ver 1.2 / 05-05-2020

фьюзы зашиты в прошивках:
FOSC_INTOSCIO & WDTE_OFF & PWRTE_OFF & MCLRE_ON & BOREN_OFF & LVP_OFF & CPD_OFF & CP_OFF

включение по умолчанию со звуком.
если кнопка нажата при появлении первой надписи - без звука.
если нажата в момент появлении второй надписи - генератор работает постоянно, для подстройки или замеров.
на экран выдается соответственно boost/sound on/silent.
в нормальном режиме генератор работает пару секунд на старте, при получении импульса от счетчика, 
и на всякий случай выдается пачка раз в 5 секунд.
частота преобразователя ~10kHz (под мой дроссель) и ~14kHz (как в оригинале).


импульсы пищалки - 24ms.

показания - 0..1999uH, 2.01..9.99mH, далее только с десятыми.
тревога при превышении 50uH - без звука, звездочка рядом с единицами, не зависит от знакогенератора.

делал из того, что было под рукой, тот же reg104 конечно легко меняется на lm1117 или lm7805 и т.п.

thanks to tothema, dyga
